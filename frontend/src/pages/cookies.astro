---
// src/pages/cookies.astro
import Layout from '../layouts/Layout.astro'
import LegalSection from '../components/ui/LegalSection.vue'
import { BUSINESS_INFO } from '../utils/constants'

const pageTitle = 'Cookie Policy'
const pageDescription = `Cookie policy for ${BUSINESS_INFO.name}. Learn how we use cookies and similar technologies to improve your browsing experience.`
---

<Layout title={pageTitle} description={pageDescription}>
  <main class="min-h-screen bg-white">
    <!-- Header Section -->
    <section class="bg-gradient-to-br from-blue-50 to-indigo-100 py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
            üç™ Cookie Policy
          </h1>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            Understanding how we use cookies and similar technologies to enhance your experience on our website.
          </p>
          <div class="mt-6 text-sm text-gray-500">
            Last updated: {new Date().toLocaleDateString('en-GB', { 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric' 
            })}
          </div>
        </div>
      </div>
    </section>

    <!-- Content Sections -->
    <section class="py-12">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="space-y-12">
          
          <!-- Section 1: What Are Cookies -->
          <LegalSection 
            client:load
            id="what-are-cookies"
            title="1. What Are Cookies?"
            icon="üç™"
            highlight={true}
          >
            <p>
              Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide information to website owners.
            </p>
            
            <div class="bg-amber-50 border border-amber-200 rounded-lg p-6 my-6">
              <h4 class="text-amber-800 font-semibold mb-3">üìù Cookie Basics</h4>
              <ul class="text-amber-700 space-y-2">
                <li><strong>Size:</strong> Cookies are very small files, typically only a few bytes</li>
                <li><strong>Storage:</strong> They are stored in your browser's cookie folder</li>
                <li><strong>Function:</strong> They help websites remember information about your visit</li>
                <li><strong>Security:</strong> They cannot access other files on your computer or install viruses</li>
              </ul>
            </div>

            <h3>Types of Cookie Technologies</h3>
            <p>We may use various cookie technologies including:</p>
            <ul>
              <li><strong>HTTP Cookies:</strong> Standard cookies stored by your browser</li>
              <li><strong>Local Storage:</strong> Browser storage for larger amounts of data</li>
              <li><strong>Session Storage:</strong> Temporary storage that expires when you close your browser</li>
              <li><strong>Web Beacons:</strong> Small images that help us track email opens and website usage</li>
            </ul>
          </LegalSection>

          <!-- Section 2: Why We Use Cookies -->
          <LegalSection 
            client:load
            id="why-we-use-cookies"
            title="2. Why We Use Cookies"
            icon="üéØ"
          >
            <p>
              We use cookies for several important purposes to improve your experience on our website:
            </p>

            <div class="grid md:grid-cols-2 gap-6 my-6">
              <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                <h4 class="text-blue-800 font-semibold mb-3">üîß Essential Functions</h4>
                <ul class="text-blue-700 space-y-1 text-sm">
                  <li>‚Ä¢ Remember your preferences</li>
                  <li>‚Ä¢ Keep you logged in</li>
                  <li>‚Ä¢ Secure form submissions</li>
                  <li>‚Ä¢ Load balancing</li>
                </ul>
              </div>
              
              <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                <h4 class="text-green-800 font-semibold mb-3">üìä Analytics & Improvement</h4>
                <ul class="text-green-700 space-y-1 text-sm">
                  <li>‚Ä¢ Understand site usage</li>
                  <li>‚Ä¢ Track popular content</li>
                  <li>‚Ä¢ Identify technical issues</li>
                  <li>‚Ä¢ Improve performance</li>
                </ul>
              </div>
            </div>

            <h3>Legitimate Interests</h3>
            <p>
              Our use of cookies is based on legitimate interests in providing you with a functional, 
              secure, and optimized website experience. We always aim to balance our interests with 
              your privacy rights.
            </p>
          </LegalSection>

          <!-- Section 3: Types of Cookies We Use -->
          <LegalSection 
            client:load
            id="cookie-types"
            title="3. Types of Cookies We Use"
            icon="üìã"
          >
            <div class="space-y-6">
              
              <!-- Essential Cookies -->
              <div class="border border-gray-200 rounded-lg p-6">
                <div class="flex items-center mb-4">
                  <span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium mr-3">
                    Always Active
                  </span>
                  <h4 class="text-lg font-semibold">üîê Essential Cookies</h4>
                </div>
                <p class="text-gray-600 mb-4">
                  These cookies are necessary for the website to function and cannot be switched off.
                </p>
                <div class="overflow-x-auto">
                  <table class="min-w-full border border-gray-200 rounded-lg">
                    <thead class="bg-gray-50">
                      <tr>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Cookie Name</th>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Purpose</th>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Duration</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                      <tr>
                        <td class="px-4 py-2 text-sm font-mono">astro-session</td>
                        <td class="px-4 py-2 text-sm">Maintains your session state</td>
                        <td class="px-4 py-2 text-sm">Session</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-2 text-sm font-mono">csrf-token</td>
                        <td class="px-4 py-2 text-sm">Prevents cross-site request forgery</td>
                        <td class="px-4 py-2 text-sm">Session</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Analytics Cookies -->
              <div class="border border-gray-200 rounded-lg p-6">
                <div class="flex items-center mb-4">
                  <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium mr-3">
                    Optional
                  </span>
                  <h4 class="text-lg font-semibold">üìä Analytics Cookies</h4>
                </div>
                <p class="text-gray-600 mb-4">
                  Help us understand how visitors interact with our website.
                </p>
                <div class="overflow-x-auto">
                  <table class="min-w-full border border-gray-200 rounded-lg">
                    <thead class="bg-gray-50">
                      <tr>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Cookie Name</th>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Purpose</th>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Duration</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                      <tr>
                        <td class="px-4 py-2 text-sm font-mono">_ga</td>
                        <td class="px-4 py-2 text-sm">Google Analytics user identification</td>
                        <td class="px-4 py-2 text-sm">2 years</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-2 text-sm font-mono">_ga_*</td>
                        <td class="px-4 py-2 text-sm">Google Analytics session information</td>
                        <td class="px-4 py-2 text-sm">2 years</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Performance Cookies -->
              <div class="border border-gray-200 rounded-lg p-6">
                <div class="flex items-center mb-4">
                  <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium mr-3">
                    Optional
                  </span>
                  <h4 class="text-lg font-semibold">‚ö° Performance Cookies</h4>
                </div>
                <p class="text-gray-600 mb-4">
                  Used to enhance the performance and functionality of our website.
                </p>
                <div class="overflow-x-auto">
                  <table class="min-w-full border border-gray-200 rounded-lg">
                    <thead class="bg-gray-50">
                      <tr>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Cookie Name</th>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Purpose</th>
                        <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Duration</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                      <tr>
                        <td class="px-4 py-2 text-sm font-mono">performance_id</td>
                        <td class="px-4 py-2 text-sm">Track page load times</td>
                        <td class="px-4 py-2 text-sm">30 days</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

            </div>
          </LegalSection>

          <!-- Section 4: Managing Your Cookies -->
          <LegalSection 
            client:load
            id="managing-cookies"
            title="4. Managing Your Cookie Preferences"
            icon="‚öôÔ∏è"
            highlight={true}
          >
            <p>
              You have control over the cookies we use on our website. Here's how you can manage your preferences:
            </p>

            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6 my-6">
              <h4 class="text-blue-800 font-semibold mb-3">üéõÔ∏è Cookie Settings</h4>
              <p class="text-blue-700 mb-4">
                Use our cookie preference center to customize your settings:
              </p>
              <button 
                class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium"
                onclick="if(window.cookieConsent) window.cookieConsent.showPreferences()"
              >
                Open Cookie Settings
              </button>
            </div>

            <h3>Browser Settings</h3>
            <p>You can also control cookies through your browser settings:</p>
            
            <div class="grid md:grid-cols-2 gap-4 my-6">
              <div class="border border-gray-200 rounded-lg p-4">
                <h4 class="font-semibold mb-2">üåê Chrome</h4>
                <p class="text-sm text-gray-600">Settings ‚Üí Privacy and Security ‚Üí Cookies and other site data</p>
              </div>
              
              <div class="border border-gray-200 rounded-lg p-4">
                <h4 class="font-semibold mb-2">ü¶ä Firefox</h4>
                <p class="text-sm text-gray-600">Options ‚Üí Privacy & Security ‚Üí Cookies and Site Data</p>
              </div>
              
              <div class="border border-gray-200 rounded-lg p-4">
                <h4 class="font-semibold mb-2">üî∑ Safari</h4>
                <p class="text-sm text-gray-600">Preferences ‚Üí Privacy ‚Üí Manage Website Data</p>
              </div>
              
              <div class="border border-gray-200 rounded-lg p-4">
                <h4 class="font-semibold mb-2">üìò Edge</h4>
                <p class="text-sm text-gray-600">Settings ‚Üí Cookies and site permissions ‚Üí Cookies and site data</p>
              </div>
            </div>

            <div class="bg-amber-50 border border-amber-200 rounded-lg p-6">
              <h4 class="text-amber-800 font-semibold mb-3">‚ö†Ô∏è Important Note</h4>
              <p class="text-amber-700">
                Disabling essential cookies may affect the functionality of our website. 
                Some features may not work properly if cookies are blocked.
              </p>
            </div>
          </LegalSection>

          <!-- Section 5: Third-Party Cookies -->
          <LegalSection 
            client:load
            id="third-party-cookies"
            title="5. Third-Party Cookies"
            icon="üîó"
          >
            <p>
              Some cookies on our website are set by third-party services we use to enhance functionality:
            </p>

            <div class="space-y-4 my-6">
              
              <div class="border border-gray-200 rounded-lg p-6">
                <div class="flex items-center mb-3">
                  <img src="/images/icons/google-analytics.svg" alt="Google Analytics" class="w-8 h-8 mr-3" />
                  <h4 class="text-lg font-semibold">Google Analytics</h4>
                </div>
                <p class="text-gray-600 mb-3">
                  Helps us understand how visitors use our website to improve user experience.
                </p>
                <div class="flex items-center text-sm">
                  <span class="text-gray-500 mr-4">Purpose: Analytics</span>
                  <a 
                    href="https://policies.google.com/privacy" 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="text-blue-600 hover:text-blue-800 underline"
                  >
                    Privacy Policy ‚Üí
                  </a>
                </div>
              </div>

              <div class="border border-gray-200 rounded-lg p-6">
                <div class="flex items-center mb-3">
                  <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded mr-3 flex items-center justify-center">
                    <span class="text-white text-xs font-bold">CF</span>
                  </div>
                  <h4 class="text-lg font-semibold">Cloudflare</h4>
                </div>
                <p class="text-gray-600 mb-3">
                  Provides security, performance optimization, and content delivery services.
                </p>
                <div class="flex items-center text-sm">
                  <span class="text-gray-500 mr-4">Purpose: Security & Performance</span>
                  <a 
                    href="https://www.cloudflare.com/privacy/" 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="text-blue-600 hover:text-blue-800 underline"
                  >
                    Privacy Policy ‚Üí
                  </a>
                </div>
              </div>

            </div>

            <h3>Opting Out of Third-Party Cookies</h3>
            <p>
              You can opt out of third-party cookies by visiting the respective privacy policy 
              links above or by using browser settings to block third-party cookies entirely.
            </p>
          </LegalSection>

          <!-- Section 6: Your Rights -->
          <LegalSection 
            client:load
            id="your-rights"
            title="6. Your Rights and Choices"
            icon="‚öñÔ∏è"
          >
            <p>Under applicable privacy laws, you have several rights regarding cookies:</p>

            <div class="grid md:grid-cols-2 gap-6 my-6">
              
              <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                <h4 class="text-green-800 font-semibold mb-3">‚úÖ Your Rights Include</h4>
                <ul class="text-green-700 space-y-2 text-sm">
                  <li>‚Ä¢ Right to be informed about cookie usage</li>
                  <li>‚Ä¢ Right to control non-essential cookies</li>
                  <li>‚Ä¢ Right to withdraw consent at any time</li>
                  <li>‚Ä¢ Right to access information about cookies</li>
                  <li>‚Ä¢ Right to delete cookies from your device</li>
                </ul>
              </div>

              <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                <h4 class="text-blue-800 font-semibold mb-3">üõ°Ô∏è How to Exercise Your Rights</h4>
                <ul class="text-blue-700 space-y-2 text-sm">
                  <li>‚Ä¢ Use our cookie preference center</li>
                  <li>‚Ä¢ Adjust your browser settings</li>
                  <li>‚Ä¢ Contact us directly for assistance</li>
                  <li>‚Ä¢ Clear cookies manually from your browser</li>
                  <li>‚Ä¢ Use privacy-focused browser extensions</li>
                </ul>
              </div>

            </div>

            <div class="bg-gray-50 border border-gray-200 rounded-lg p-6">
              <h4 class="font-semibold mb-3">üìû Need Help?</h4>
              <p class="text-gray-600 mb-3">
                If you have questions about our cookie policy or need assistance managing your preferences:
              </p>
              <div class="flex flex-wrap gap-4">
                <a 
                  href="mailto:{BUSINESS_INFO.contact.email}" 
                  class="inline-flex items-center text-blue-600 hover:text-blue-800"
                >
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                  </svg>
                  {BUSINESS_INFO.contact.email}
                </a>
                <a 
                  href="/contact" 
                  class="inline-flex items-center text-blue-600 hover:text-blue-800"
                >
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.959 8.959 0 01-2.4-.32l-3.6 1.2 1.2-3.6A8.959 8.959 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"/>
                  </svg>
                  Contact Form
                </a>
              </div>
            </div>
          </LegalSection>

          <!-- Section 7: Updates to This Policy -->
          <LegalSection 
            client:load
            id="policy-updates"
            title="7. Updates to This Policy"
            icon="üîÑ"
          >
            <p>
              We may update this cookie policy from time to time to reflect changes in our 
              practices or for legal, operational, or regulatory reasons.
            </p>

            <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-6 my-6">
              <h4 class="text-indigo-800 font-semibold mb-3">üìÖ Policy Updates</h4>
              <div class="text-indigo-700 space-y-2">
                <p><strong>How we notify you:</strong></p>
                <ul class="ml-4 space-y-1">
                  <li>‚Ä¢ Email notification for significant changes</li>
                  <li>‚Ä¢ Website banner for 30 days after updates</li>
                  <li>‚Ä¢ Updated "Last modified" date at the top of this page</li>
                </ul>
              </div>
            </div>

            <h3>Staying Informed</h3>
            <p>
              We recommend reviewing this policy periodically to stay informed about our 
              cookie practices. Continued use of our website after policy changes indicates 
              your acceptance of the updated terms.
            </p>
          </LegalSection>

          <!-- Section 8: Contact Information -->
          <LegalSection 
            client:load
            id="contact-info"
            title="8. Contact Information"
            icon="üìß"
            highlight={true}
          >
            <p>
              If you have any questions about this cookie policy or our privacy practices, 
              please don't hesitate to contact us:
            </p>

            <div class="grid md:grid-cols-2 gap-6 my-6">
              
              <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                <h4 class="font-semibold mb-4 text-gray-900">üìû Contact Details</h4>
                <div class="space-y-3">
                  <div class="flex items-center">
                    <svg class="w-5 h-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    <a href="mailto:{BUSINESS_INFO.contact.email}" class="text-blue-600 hover:text-blue-800">
                      {BUSINESS_INFO.contact.email}
                    </a>
                  </div>
                  
                  <div class="flex items-center">
                    <svg class="w-5 h-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                    <a href="tel:{BUSINESS_INFO.contact.phone}" class="text-blue-600 hover:text-blue-800">
                      {BUSINESS_INFO.contact.phone}
                    </a>
                  </div>
                </div>
              </div>

              <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                <h4 class="font-semibold mb-4 text-gray-900">üïí Response Time</h4>
                <div class="space-y-2 text-sm text-gray-600">
                  <p><strong>General inquiries:</strong> Within 48 hours</p>
                  <p><strong>Privacy concerns:</strong> Within 24 hours</p>
                  <p><strong>Technical issues:</strong> Within 12 hours</p>
                </div>
              </div>

            </div>

            <div class="text-center">
              <a 
                href="/contact" 
                class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 font-medium"
              >
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.959 8.959 0 01-2.4-.32l-3.6 1.2 1.2-3.6A8.959 8.959 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"/>
                </svg>
                Get in Touch
              </a>
            </div>
          </LegalSection>

        </div>
      </div>
    </section>

  </main>
</Layout>

<script>
  // Cookie consent functionality
  if (typeof window !== 'undefined') {
    // Simple cookie consent implementation
    window.cookieConsent = {
      showPreferences: function() {
        // This would open a modal with cookie preferences
        alert('Cookie preferences panel would open here. Implement with your preferred cookie consent solution.');
      }
    };
  }
</script>